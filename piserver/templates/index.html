<!DOCTYPE html >
<html  lang="en">
<head>
	 <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<title>Pi Control Panel .demo</title>
<link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/dropdowns-enhancement.min.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/font-awesome.min.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/button.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/head.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/zico.css') }}">
<script src="{{ url_for('static', filename='js/jquery-min.js') }}"></script>
<script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
<script src="{{ url_for('static', filename='js/popper.js') }}"></script>
<script src="{{ url_for('static', filename='js/zico.js') }}"></script>
</head>
<body>
	<div class="container-fluid">
	<!--顶部菜单-->
  <div class="row">
    <div class="col-12">
		<nav class="navbar navbar-dark navbar-fixed-top bg-dark navbar-expand-lg">
			<a class="navbar-brand" href="#"><span class="zi zi_adjust zi_pulse"></span> Pi Control Panel .demo</a>
		</nav>
  </div>
  </div>

<div class="row ">
  <div class="col-xl-12">
<table class="table table-bordered table-responsive">

<tr>
  <td> 
      <div class="btn-group btn-group-sm border border-secondary rounded">
      <button type="button" class="btn btn-light ">
      <b>温度[℃]:</b> <span class="badge badge-secondary">100.00</span>
      <span class="badge badge-secondary">100.00</span>
      <span class="badge badge-secondary">100.00</span>
      </button>
      </div>
      <div class="btn-group btn-group-sm"> 　
      <button type="submit" class="btn btn-outline-primary  " onclick="window.location.href = '/cp'">設定初期化</button>
      </div>
<!--       <span class="btn-group-sm">　
      <button type="submit" class="btn btn-primary  ">GPIO初期化</button>
      <button class="btn btn-danger btn-group-sm " id="cleanupGPIO">全部停止</button> 
      </span> -->
    </div>
      
      
  </td>

	</tr>

<tr>	
  <td><div>

<pre class="pre-scrollable col-xs-12 col-md-7 text-justify border border-secondary bg-light rounded" id="outputTerminal">
GPIO初期化完了 LED0点灯 gpio17==high 
LED0==True
 
 
 
</pre>  <!-- 维持宽度需要至少5行输出 -->
</div>


		<div class="form-group">
      <span class="h5">LED0:</span>
			 <button  class="btn btn-outline-dark " id="turnonLED0">ON</button>

       <button  class="btn btn-outline-dark " id="turnoffLED0">OFF</button>
		</div>
<!--       </td>  
</tr>

<tr>
<td >
 -->
<span class="h5">モーター/自動運転:</span>

<p>
    <button id="motord1" class="btn btn-default btn-sm">正回転</button>
     <button id="motord2"class="btn btn-default btn-sm">逆回転</button>
     <button id="motorstop"class="btn btn-default btn-sm">ストップ</button>
<!--              <button class="btn btn-default btn-sm" id="bt1">test</button> -->
  </p>

  <form class="form-inline "  autocomplete="on" >
<input type="button"  class="btn btn-info btn-sm" id="motorautorun" value="自動運転開始">
<input type="button" class="btn btn-info btn-sm" id="motorautostop" value="停止(未完成)" disabled="on">
         

    <p>
    <div class="input-group col-xs-11 col-md-4">
      <div class="input-group-addon">運転T1&nbsp&nbsp&nbsp</div>
      <input type="number" step="0.1" class="form-control" id="motorrunningT1" min="0.1" placeholder="秒/S" value="1" autocomplete="on" required >
      <div class="input-group-addon">加熱待ちT2</div>
      <input type="number"   step="0.1"class="form-control" id="motorwaitingT2"  min="0.1" placeholder="秒/S" value="2" autocomplete="on" required>
    </div> </p>
<p>
    <div class="input-group col-xs-11 col-md-4">
      <div class="input-group-addon">運転T3 &nbsp&nbsp</div>
      <input type="number"   step="0.1" class="form-control" id="motorrunningT3" min="0.1"  placeholder="秒/S" value="1" autocomplete="on" required>
      <div class="input-group-addon">加熱待ちT4</div>
      <input type="number"   step="0.1" class="form-control" id="motorwaitingT4" min="0.1"  placeholder="秒/S" value="2"  autocomplete="on" required>
      </div>
    </p>
    <p>
    <div class="input-group col-xs-11 col-md-4">
      <div class="input-group-addon">逆運転T5</div>
      <input type="number"   step="0.1"class="form-control" id="motorrunningT5" min="0.1"  placeholder="秒/S"  value="1"  autocomplete="on" required>
      <div class="input-group-addon">加熱待ちT6</div>
      <input type="number"   step="0.1" class="form-control" id="motorwaitingT6"  min="0.1" placeholder="秒/S" value="2" autocomplete="on"  required>
    </div>
  </p>
   <p>
    <div class="input-group col-xs-11 col-md-4">
      <div class="input-group-addon ">逆運転T7</div>
      <input type="number"   step="0.1"class="form-control" id="motorrunningT7" min="0.1"  placeholder="秒/S" value="1"  autocomplete="on"  required>
      <div class="input-group-addon">加熱待ちT8</div>
      <input type="number"   step="0.1" class="form-control" id="motorwaitingT8" min="0.1"  placeholder="秒/S" value="2"  autocomplete="on" required>
    </div>

  </p>
  </form> 
  </div> </td> </tr>
 

</table>
</div>
</div>




</body>
<script>
//测试脚本，测试id==bt1,路由==test	
$(document).ready(function(){
  $("#bt1").click(function(){
    $.post("/cp/test",{},function(data,status){
      // alert("数据：" + data + "\n状态：" + status);
       $("#outputTerminal").text("方法：" + data + "状态：" + status);
    });
  });
});

//LED0高电平输出
$(document).ready(function(){
  $("#turnonLED0").click(function(){
    $.post("/cp/pullupgpio/LED0",{},function(data,status){
       $("#outputTerminal").text(data +"GPIO4==True"+"\n状態：" + status+"");
    });
  });
});

//LED0低电平输出
$(document).ready(function(){
  $("#turnoffLED0").click(function(){
    $.post("/cp/pulldowngpio/LED0",{},function(data,status){
       $("#outputTerminal").text(data +"GPIO4==False"+" \n状態：" + status+"");
    });
  });
});

//马达控制
$(document).ready(function(){
  $("#motord1").click(function(){ //马达方向1
    $.post("/cp/motord1",{},function(data,status){
       $("#outputTerminal").text(data +" 状態：" + status);
    });
  });
});

$(document).ready(function(){
  $("#motord2").click(function(){  //马达方向2
    $.post("/cp/motord2",{},function(data,status){
       $("#outputTerminal").text(data +" 状態：" + status);
    });
  });
});

$(document).ready(function(){
  $("#motorstop").click(function(){  //马达停止
    $.post("/cp/motorstop",{},function(data,status){
       $("#outputTerminal").text(data +" 状態：" + status);
    });
  });
});

$(document).ready(function(){
  $("#motorautorun").click(function(){  //自动控制
    var t1=$("#motorrunningT1").val();
    var t2=$("#motorwaitingT2").val();
    var t3=$("#motorrunningT3").val();
    var t4=$("#motorwaitingT4").val();
    var t5=$("#motorrunningT5").val();
    var t6=$("#motorwaitingT6").val();
    var t7=$("#motorrunningT7").val();
    var t8=$("#motorwaitingT8").val();
    if (t1=="" || t2=="" || t3=="" ||t4 =="" || t5 =="" || t6=="" || t7=="" || t8=="" ) {
      $("#outputTerminal").text("T1~T8を全部入れてください。"+"\n ");
    }else{
      $("#outputTerminal").text("運転中　t1=" + t1+" t2="+t2+" t3="+t3+" t4="+t4+"\nt5="+t5+" t6="+t6+" t7="+t7+" t8="+t8 );
      $.post("/cp/motorautorun/1",{
         "t1":t1,
         "t2":t2,
         "t3":t3,
         "t4":t4,
         "t5":t5,
         "t6":t6,
         "t7":t7,
         "t8":t8
        },function(data,status){
           $("#outputTerminal").text(data +"状態：" + status);
               });
         }

        });


$("#motorautostop").click(function(){  //马达停止
    $.post("/cp/motorautorun/0",{},function(data,status){
       $("#outputTerminal").text("自動運転完了" + data +" 状態：" + status);
    });
  });

});
　　 





//刷新温度(1秒刷新一次)
$(document).ready(function(){
  //开始刷新按钮
  $("#t_Refresh").click(function(){
   var Tcount= setInterval(refreshTemp,2000);
  });

 $("#t_stopRefresh").click(function(){
    // clearInterval(Tcount);
    $("#outputTerminal").text("停止温度轮询\n \n");
  });

  function refreshTemp(){
  $.post("/cp/t_refresh",{},function(data,status){
       $("#outputTerminal").text("メソッド：" + "post  戻り値："+data+"度address_adt7410 = 0x48"+" 状態：" + status);
       $("#outpuTemperature").html("温度：<b>"+data+"℃</b>");
    });
}
});

  //停止刷新按钮
// $(document).ready(function(){

// });



</script>


</html>